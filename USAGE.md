# ğŸš€ å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ä¸€é”®å¯åŠ¨è„šæœ¬

### âœ¨ å¯åŠ¨ Claude Code

```bash
./start_claude.sh
```

**è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š**
1. âœ… æ£€æŸ¥ç«¯å£ 8082 æ˜¯å¦è¢«å ç”¨
2. âœ… å¯åŠ¨ä»£ç†æœåŠ¡å™¨ï¼ˆåå°è¿è¡Œï¼‰
3. âœ… ç­‰å¾…ä»£ç†å¯åŠ¨æˆåŠŸï¼ˆæœ€å¤š 10 ç§’ï¼‰
4. âœ… æ˜¾ç¤ºä»£ç†é…ç½®ä¿¡æ¯
5. âœ… è‡ªåŠ¨æ‰“å¼€ Claude Code

**æ™ºèƒ½å¤„ç†ï¼š**
- å¦‚æœä»£ç†å·²åœ¨è¿è¡Œï¼Œä¼šè¯¢é—®æ˜¯å¦é‡å¯
- å¦‚æœ .env æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šæç¤ºå…ˆé…ç½®
- å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œä¼šæ˜¾ç¤ºé”™è¯¯æ—¥å¿—

---

### ğŸ›‘ åœæ­¢ä»£ç†æœåŠ¡

```bash
./stop_claude.sh
```

**è¿™ä¸ªè„šæœ¬ä¼šï¼š**
1. âœ… æŸ¥æ‰¾å¹¶åœæ­¢ä»£ç†è¿›ç¨‹
2. âœ… ç¡®è®¤ç«¯å£ 8082 å·²é‡Šæ”¾
3. âœ… æ¸…ç† PID æ–‡ä»¶

---

## ğŸ“ æ—¥å¿—ç®¡ç†

### æŸ¥çœ‹å®æ—¶æ—¥å¿—
```bash
tail -f /tmp/claude-proxy.log
```

### æŸ¥çœ‹æœ€è¿‘ 50 è¡Œæ—¥å¿—
```bash
tail -50 /tmp/claude-proxy.log
```

### æ¸…ç†æ—§æ—¥å¿—
```bash
> /tmp/claude-proxy.log
```

---

## ğŸ”§ æ‰‹åŠ¨æ“ä½œï¼ˆé«˜çº§ï¼‰

### æ‰‹åŠ¨å¯åŠ¨ä»£ç†ï¼ˆå‰å°ï¼‰
```bash
python start_proxy.py
```

### æ‰‹åŠ¨å¯åŠ¨ä»£ç†ï¼ˆåå°ï¼‰
```bash
python start_proxy.py > /tmp/claude-proxy.log 2>&1 &
echo $! > /tmp/claude-proxy.pid
```

### æ£€æŸ¥ä»£ç†çŠ¶æ€
```bash
curl http://127.0.0.1:8082/health | jq
```

### æŸ¥çœ‹ä»£ç†é…ç½®
```bash
curl http://127.0.0.1:8082/ | jq
```

### æ‰‹åŠ¨åœæ­¢ä»£ç†
```bash
kill $(cat /tmp/claude-proxy.pid)
```

æˆ–

```bash
pkill -f "python.*start_proxy.py"
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨

**ç—‡çŠ¶ï¼š** `Address already in use: bind()`

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8082

# åœæ­¢è¿›ç¨‹
kill <PID>

# æˆ–ä½¿ç”¨åœæ­¢è„šæœ¬
./stop_claude.sh
```

### é—®é¢˜ 2: Claude Code æ— æ³•è¿æ¥

**æ£€æŸ¥æ¸…å•ï¼š**
1. ç¡®è®¤ä»£ç†åœ¨è¿è¡Œï¼š`curl http://127.0.0.1:8082/health`
2. æ£€æŸ¥ç¯å¢ƒå˜é‡ï¼š
   ```bash
   echo $ANTHROPIC_AUTH_TOKEN
   echo $ANTHROPIC_BASE_URL
   ```
3. é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡ï¼š`source ~/.zshrc`

### é—®é¢˜ 3: API Key æ— æ•ˆ

**æ£€æŸ¥ .env æ–‡ä»¶ï¼š**
```bash
cat .env | grep OPENAI_API_KEY
```

**æ›´æ–° API Keyï¼š**
```bash
# ç¼–è¾‘ .env æ–‡ä»¶
vi .env

# é‡å¯ä»£ç†
./stop_claude.sh
./start_claude.sh
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### æ—¥å¸¸ä½¿ç”¨æµç¨‹

**æ¯å¤©ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼š**
```bash
./start_claude.sh
```

**ä½¿ç”¨å®Œæ¯•åï¼ˆå¯é€‰ï¼‰ï¼š**
```bash
./stop_claude.sh
```

**æ³¨æ„ï¼š** ä»£ç†å¯ä»¥ä¸€ç›´åœ¨åå°è¿è¡Œï¼Œä¸ç”¨æ¯æ¬¡éƒ½åœæ­¢ã€‚

### ç³»ç»Ÿé‡å¯å

å¦‚æœé‡å¯äº†ç”µè„‘ï¼Œéœ€è¦é‡æ–°è¿è¡Œï¼š
```bash
./start_claude.sh
```

### æ›´æ–°é…ç½®å

ä¿®æ”¹ .env æ–‡ä»¶åï¼Œéœ€è¦é‡å¯ä»£ç†ï¼š
```bash
./stop_claude.sh
./start_claude.sh
```

---

## ğŸ“Š ç³»ç»Ÿè¦æ±‚

- âœ… Python 3.8+
- âœ… å·²é…ç½® .env æ–‡ä»¶
- âœ… Claude Code CLI å·²å®‰è£…
- âœ… å·²é…ç½® `~/.zshrc` ç¯å¢ƒå˜é‡

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

1. æŸ¥çœ‹è¯¦ç»†é…ç½®æŒ‡å—ï¼š`README_OPENROUTER.md`
2. æŸ¥çœ‹å®‰å…¨æœ€ä½³å®è·µï¼š`SECURITY.md`
3. è¿è¡Œäº¤äº’å¼é…ç½®ï¼š`./setup_openrouter.sh`

---

## âœ… å¿«é€Ÿæµ‹è¯•

```bash
# 1. å¯åŠ¨
./start_claude.sh

# 2. åœ¨ Claude Code ä¸­æµ‹è¯•
# è¾“å…¥ä»»æ„é—®é¢˜ï¼Œå¦‚ï¼š"ä½ å¥½"

# 3. å®Œæˆååœæ­¢ï¼ˆå¯é€‰ï¼‰
./stop_claude.sh
```

**å°±è¿™ä¹ˆç®€å•ï¼** ğŸ‰
